!function(n){"use strict";function t(n){this.name="IllegalArgumentError",this.message=n||""}function o(n){var o=typeof n.param;if(-1===n.types.indexOf(o)){var e=n.errorMsg||"Argument "+n.argName+" must be one of the following types: "+n.types.join(", ");throw new t(e)}}function e(n,t){function e(n,t,o){for(var e,r,i=0,a=n.length;a>i;i++)e=n[i],r=e.condition,("function"==typeof r&&r()||r)&&e.replacementFn.apply(t,o)}function r(){c=n[t],n[t]=function(){c=c.bind(this);var n=Array.prototype.slice.call(arguments);e(f,this,n),e(p,this,n)}}function i(n,t){if(t.condition){var o=n.atStart?"unshift":"push";Array.prototype[o].call(n.caseArr,t)}return t.condition}var a=n[t];o({param:a,types:["function"],errorMsg:"Cannot cloak property: "+t+", it is not a function"});var c,u={},s={},f=[],p=[];return s.lastWhenCondition=!0,u.cloakWith=function(n){return o({param:n,types:["function"],argName:"fn"}),i({caseArr:f},{condition:s.lastWhenCondition,replacementFn:n}),c||r(),u},u.when=function(n){return o({param:n,types:["function","boolean"],argName:"condition"}),s.lastWhenCondition=n,u},u.uncloak=function(){c&&(n[t]=c)},u.before=function(n){return o({param:n,types:["function"],argName:"fn"}),i({caseArr:f,atStart:!0},{condition:s.lastWhenCondition,replacementFn:n}),u},u.after=function(n){return o({param:n,types:["function"],argName:"fn"}),i({caseArr:p},{condition:s.lastWhenCondition,replacementFn:n}),u},u.callOriginal=function(){return i({caseArr:f},{condition:s.lastWhenCondition,replacementFn:c}),u},u.and=u,u}t.prototype=new Error,"undefined"!=typeof module&&module.exports?module.exports=e:window[n]=e}("cloak");